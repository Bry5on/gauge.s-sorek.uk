{
	"wifiSSID": "Logger.S",
	"wifiPSWD": "logger.s",
	"snake": true,
	"displayRows": 2,
	"noMoreEntries": true,
	"canSpeed": 500,
	"address": ["0x12", "0x05", "0x0B", "0x03", "0x1F"],
	"forceKwp": false,
	"ecuparam": [
		{
			"header": "Trip 1",
			"unit": "km",
			"expr": "trip(\"Trip 1\",x)",
			"x": "Speed"
		},
		{
			"header": "Trip 2",
			"unit": "km",
			"expr": "trip(\"Trip 2\",x)",
			"x": "Speed"
		},
		{
			"header": "Engine Speed",
			"unit": "RPM",
			"offset": 0,
			"length": 2,
			"max": 8400,	
			"dec": 0
		},
		{
			"header": "Engine Load",
			"unit": "mg/str",
			"offset": 6,
			"length": 2,
			"mul": 0.001,
			"dec": 1
		},
		{
			"header": "Mass Airflow",
			"unit": "kg/h",
			"offset": 4,
			"length": 2,
			"mul": 0.25,
			"dec": 1
		},
		{
			"header": "TPS",
			"unit": "%",
			"length": 2,
			"offset": 27,
			"mul": 0.1,
			"dec": 0				// Remember about this comma when editing line below
		//	"autoLogPoint": 60.0	// You can comment out or delete if you don't want to log on WOT.
		},
		{
			"header": "TPS Target",
			"unit": "%",
			"length": 2,
			"offset": 31,
			"mul": 0.1
		},
		{
			"header": "Ignition Angle",
			"unit": "°CRK",
			"offset": 10, //This offset value is incorrect, it is used for Intake Air Temp below
			"mul": 0.1
		},
		{
			"header": "Intake Air Temp",
			"unit": "°C",
			"offset": 10,
			"mul": 1,
			"add": -48
		},
		{
			"header": "Coolant Temp",
			"unit": "°C",
			"offset": 11,
			"mul": 1,
			"add": -48
		},
		{
			"header": "Oil Temp",
			"unit": "°C",
			"offset": 12,
			"mul": 1,
			"add": -48
		},
		{
			"header": "Radiator Temp",
			"unit": "°C",
			"offset": 13,
			"mul": 13,
			"add": -48
		},
		{
			"header": "Exhaust Gas Temp",
			"unit": "*C",
			"offset": 14,
			"max": 1500
		},
		{
			"header": "Ambient Temp",
			"unit": "*C",
			"offset": 15,
			"add": -48,
			"max": 160
		},
		{
			"header": "Battery Voltage",
			"alias": "Battery",
			"unit": "V",
			"offset": 16,
			"mul": 0.1
		},
		{
			"header": "Master Power",
			"unit": "V",
			"offset": 17,
			"mul": 0.0391
		},
		{
			"header": "Slave Power",
			"unit": "V",
			"offset": 18,
			"mul": 0.0391
		},
		{
			"header": "Ambient Pressure",
			"unit": "mbar",
			"offset": 19,
			"mul": 3,
			"add": 500
		},
		{
			"header": "Rel Open Cross Sec",
			"unit": "%",
			"offset": 20,
			"length": 2,
			"mul": 0.0030518,
			"max": 120
		},
		{
			"header": "Accel Pos 1",
			"unit": "%",
			"length": 2,
			"offset": 23,
			"mul": 0.1
		},
		{
			"header": "Accel Pos 2",
			"unit": "%",
			"length": 2,
			"offset": 25,
			"mul": 0.1
		},
		{
			"header": "WBO",
			"unit": "AFR",
			"expr": "1.7637*x + 10.29",
			//"expr": "3.008*x + 7.35", //Innovate LC-2
			"x": "Analog 1",
		//	"x": "Rear O2 1",	// you can plug your WBO into your rear or front O2 lambda
			"hidden": true		// set to false or delete if you use it
		},
		{
			"header": "Analog 1",
			"unit": "V",
			"pin": 1,
			"resetTime": 0,
			"max": 5,
			"mul": 0.001221,
			"hidden": true
		},
		{
			"header": "Analog 2",
			"unit": "V",
			"pin": 2,
			"resetTime": 0,
			"max": 5,
			"mul": 0.001221,
			"hidden": true
		},
		{
			"header": "Analog 3",
			"unit": "V",
			"pin": 3,
			"resetTime": 0,
			"max": 5,
			"mul": 0.001221,
			"hidden": true
		},
		{
			"header": "Analog 4",
			"unit": "V",
			"pin": 4,
			"resetTime": 0,
			"max": 5,
			"mul": 0.001221,
			"hidden": true
		}//, //Uncomment comma to the left and section below to enable CAN communication after connecting CAN Hi and Lo wires
		/*{
			"header": "Can button",
			"canId": "0x329",
			"offset": 3,
			"hidden": false,
			"noLog": true
		},
		{
			"header": "Cruise active", //value 10 when icon lit on dash/active, value 2 when inactive/not lit
			"canId": "0x545",
			"offset": 0,
			"hidden": false,
			"noLog": true
		},
		{
			"header": "Button press",
			"unit": "b",
			"expr": "buttonPress((x & 96) && !(y & 4))",
			"x": "Can button", // if != 0 then button is active
			"y": "Cruise active",
			"hidden": true,
			"noLog": true
		},
		{
			"header": "Speedo",
			"unit": "mph",
			"canId": "0x153",
			"offset": 1,
			"length": 2,
			"mul": 0.00477, //Use value .00769 for kph instead of mph. Assumes 24.72" diameter tires (245/40/17)
			"dec": 0,
			"hidden": false,
			"noLog": false
		},
		{
			"header": "RPM CAN",
			"canId": "0x316",
			"offset": 2,
			"length": 2,
			"mul": 0.15625,
			"hidden": false,
			"noLog": false
		},
		{
			"header": "Gear",
			"expr": "lutTable(\"Gear\", (y/x))",
			"x": "Speedo",
			"y": "RPM CAN",
			"lutTable": [ //Multiply values in table by 100/62 if you change Speedo to kph. Assumes stock 3.62:1 and 24.72" diameter tires (245/40/17)
				{ "x": 33	,	"y": 	0},
				{ "x": 40.89	,	"y": 	6},
				{ "x": 49.26	,	"y": 	5},
				{ "x": 60.59	,	"y": 	4},
				{ "x": 82.27	,	"y": 	3},
				{ "x": 124.64	,	"y": 	2},
				{ "x": 208.38	,	"y": 	1},
				{ "x": 240	,	"y": 	0}
			],
			"dec": 0,
			"hidden": false,
			"noLog": false
		},
		{
			"header": "Brake Pressure",
			"unit": "MPa", //???
			"canId": "0x1F8",
			"offset": 2,
			"hidden": true,
			"noLog": true
		},
		{
			"header": "Steering Angle Raw",
			"canId": "0x1F5",
			"offset": 0,
			"length": 2,
			"hidden": false,
			"noLog": true
		},
		{
			"header": "Steering Angle",
			"unit": "deg",
			"expr": "(x > 32768)*(x-32768) + (x<32768)*(-x)",
			"mul": 0.044,
			"x": "Steering Angle Raw",
			"hidden": false,
			"noLog": false
		},
		{
			"header": "Lateral G",
			"alias": "Lat G",
			"expr": "filter(\"Accel X\", 5)", // Filters for last 5 accelerometer data points to smooth curve
			"dec": 2
		},
		{
			"header": "Longitudinal G",
			"alias": "Lon G",
			"expr": "filter(\"Accel Z\", 5)",  // Filters for last 5 accelerometer data points to smooth curve
			"dec": 2
		},
		{
			"header": "Total G",
			"alias": "Tot G",
			"expr": "sqrt(x*x + z*z)",
			"x": "Accel X",
			"z": "Accel Z",
			"dec": 2
		},
		{
			"header": "Total G Smooth",
			"alias": "Tot Gs",
			"expr": "filter(\"Total G\", 5)",  // Filters for last 5 accelerometer data points to smooth curve
			"dec": 2
		}*/
	]
}

static float buttonPressExpr(float x) {
  uint8_t b = x < 1 && x > -1 ? 0 : 1;
  b utton = (button & ~BUTTON_EXPR) | ((b) & BUTTON_EXPR);
  return x;
}
